var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,c;function u(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function f(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function b(){return m(" ")}function g(){return m("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e){t.value=null==e?"":e}function O(t){c=t}function j(){if(!c)throw new Error("Function called outside component initialization");return c}function T(t){j().$$.on_mount.push(t)}function C(){const t=j();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}function k(t,e){return j().$$.context.set(t,e),e}function E(t){return j().$$.context.get(t)}function A(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const $=[],L=[],R=[],P=[],I=Promise.resolve();let M=!1;function S(){M||(M=!0,I.then(D))}function z(){return S(),I}function N(t){R.push(t)}const B=new Set;let U=0;function D(){const t=c;do{for(;U<$.length;){const t=$[U];U++,O(t),q(t.$$)}for(O(null),$.length=0,U=0;L.length;)L.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];B.has(e)||(B.add(e),e())}R.length=0}while($.length);for(;P.length;)P.pop()();M=!1,B.clear(),O(t)}function q(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const F=new Set;let K;function G(){K={r:0,c:[],p:K}}function V(){K.r||o(K.c),K=K.p}function H(t,e){t&&t.i&&(F.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),K.c.push((()=>{F.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Y(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function J(t){return"object"==typeof t&&null!==t?t:{}}function X(t){t&&t.c()}function Q(t,e,r,s){const{fragment:a,on_mount:c,on_destroy:u,after_update:l}=t.$$;a&&a.m(e,r),s||N((()=>{const e=c.map(n).filter(i);u?u.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(N)}function Z(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,n,i,s,a,u,l,f=[-1]){const h=c;O(e);const p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:r(),dirty:f,skip_bound:!1,root:n.target||h.$$.root};l&&l(p.root);let _=!1;if(p.ctx=i?i(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),_&&function(t,e){-1===t.$$.dirty[0]&&($.push(t),S(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),_=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();n.intro&&H(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),D()}O(h)}class et{$destroy(){Z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const nt=[];function rt(t,e){return{subscribe:ot(t,e).subscribe}}function ot(e,n=t){let r;const o=new Set;function i(t){if(s(e,t)&&(e=t,r)){const t=!nt.length;for(const t of o)t[1](),nt.push(t,e);if(t){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=t){const c=[s,a];return o.add(c),1===o.size&&(r=n(i)||t),s(e),()=>{o.delete(c),0===o.size&&(r(),r=null)}}}}function it(e,n,r){const s=!Array.isArray(e),a=s?[e]:e,c=n.length<2;return rt(r,(e=>{let r=!1;const u=[];let f=0,h=t;const d=()=>{if(f)return;h();const r=n(s?u[0]:u,e);c?e(r):h=i(r)?r:t},p=a.map(((t,e)=>l(t,(t=>{u[e]=t,f&=~(1<<e),r&&d()}),(()=>{f|=1<<e}))));return r=!0,d(),function(){o(p),h()}}))}function st(t){let n,r,o;const i=[t[2]];var s=t[0];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return s&&(n=new s(a()),n.$on("routeEvent",t[7])),{c(){n&&X(n.$$.fragment),r=g()},m(t,e){n&&Q(n,t,e),h(t,r,e),o=!0},p(t,e){const o=4&e?Y(i,[J(t[2])]):{};if(s!==(s=t[0])){if(n){G();const t=n;W(t.$$.fragment,1,0,(()=>{Z(t,1)})),V()}s?(n=new s(a()),n.$on("routeEvent",t[7]),X(n.$$.fragment),H(n.$$.fragment,1),Q(n,r.parentNode,r)):n=null}else s&&n.$set(o)},i(t){o||(n&&H(n.$$.fragment,t),o=!0)},o(t){n&&W(n.$$.fragment,t),o=!1},d(t){t&&d(r),n&&Z(n,t)}}}function at(t){let n,r,o;const i=[{params:t[1]},t[2]];var s=t[0];function a(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return s&&(n=new s(a()),n.$on("routeEvent",t[6])),{c(){n&&X(n.$$.fragment),r=g()},m(t,e){n&&Q(n,t,e),h(t,r,e),o=!0},p(t,e){const o=6&e?Y(i,[2&e&&{params:t[1]},4&e&&J(t[2])]):{};if(s!==(s=t[0])){if(n){G();const t=n;W(t.$$.fragment,1,0,(()=>{Z(t,1)})),V()}s?(n=new s(a()),n.$on("routeEvent",t[6]),X(n.$$.fragment),H(n.$$.fragment,1),Q(n,r.parentNode,r)):n=null}else s&&n.$set(o)},i(t){o||(n&&H(n.$$.fragment,t),o=!0)},o(t){n&&W(n.$$.fragment,t),o=!1},d(t){t&&d(r),n&&Z(n,t)}}}function ct(t){let e,n,r,o;const i=[at,st],s=[];function a(t,e){return t[1]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=g()},m(t,n){s[e].m(t,n),h(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(G(),W(s[c],1,1,(()=>{s[c]=null})),V(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),H(n,1),n.m(r.parentNode,r))},i(t){o||(H(n),o=!0)},o(t){W(n),o=!1},d(t){s[e].d(t),t&&d(r)}}}function ut(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const lt=rt(null,(function(t){t(ut());const e=()=>{t(ut())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));it(lt,(t=>t.location));const ft=it(lt,(t=>t.querystring)),ht=ot(void 0);async function dt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await z(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function pt(t,e,n){let{routes:r={}}=e,{prefix:o=""}=e,{restoreScrollState:i=!1}=e;class s{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,o,i,s=[],a="",c=t.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),s.push(o.substring(1,~r?r:~i?i:o.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+o.substring(i))):a+="/"+o;return{keys:s,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(o)if("string"==typeof o){if(!t.startsWith(o))return null;t=t.substr(o.length)||"/"}else if(o instanceof RegExp){const e=t.match(o);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((t,e)=>{a.push(new s(e,t))})):Object.keys(r).forEach((t=>{a.push(new s(t,r[t]))}));let c=null,u=null,l={};const f=C();async function h(t,e){await z(),f(t,e)}let d=null,p=null;var _;i&&(p=t=>{d=t.state&&t.state.__svelte_spa_router_scrollY?t.state:null},window.addEventListener("popstate",p),_=()=>{d?window.scrollTo(d.__svelte_spa_router_scrollX,d.__svelte_spa_router_scrollY):window.scrollTo(0,0)},j().$$.after_update.push(_));let m=null,b=null;const g=lt.subscribe((async t=>{m=t;let e=0;for(;e<a.length;){const r=a[e].match(t.location);if(!r){e++;continue}const o={route:a[e].path,location:t.location,querystring:t.querystring,userData:a[e].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await a[e].checkConditions(o))return n(0,c=null),b=null,void h("conditionsFailed",o);h("routeLoading",Object.assign({},o));const i=a[e].component;if(b!=i){i.loading?(n(0,c=i.loading),b=i,n(1,u=i.loadingParams),n(2,l={}),h("routeLoaded",Object.assign({},o,{component:c,name:c.name,params:u}))):(n(0,c=null),b=null);const e=await i();if(t!=m)return;n(0,c=e&&e.default||e),b=i}return r&&"object"==typeof r&&Object.keys(r).length?n(1,u=r):n(1,u=null),n(2,l=a[e].props),void h("routeLoaded",Object.assign({},o,{component:c,name:c.name,params:u})).then((()=>{ht.set(u)}))}n(0,c=null),b=null,ht.set(void 0)}));return function(t){j().$$.on_destroy.push(t)}((()=>{g(),p&&window.removeEventListener("popstate",p)})),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,o=t.prefix),"restoreScrollState"in t&&n(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[c,u,l,r,o,i,function(e){A.call(this,t,e)},function(e){A.call(this,t,e)}]}class _t extends et{constructor(t){super(),tt(this,t,pt,ct,s,{routes:3,prefix:4,restoreScrollState:5})}}class mt{constructor(){this.parameters=void 0}store(t){this.parameters=t}getLoginParameters(){if(!this.parameters)throw Error("Illegal state : parameters are undefined");return this.parameters}}class bt{constructor(t){this.storeLoginParametersPort=t}login(t){this.storeLoginParametersPort.store(t)}}class gt{constructor(t,e){this.appId=t,this.apiKey=e}}function vt(e){let n;return{c(){n=_("div"),n.innerHTML='<div class="svelte-rxtjcc"></div> \n  <div class="svelte-rxtjcc"></div> \n  <div class="svelte-rxtjcc"></div> \n  <div class="svelte-rxtjcc"></div>',y(n,"class","lds-ring svelte-rxtjcc")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}class yt extends et{constructor(t){super(),tt(this,t,null,vt,s,{})}}const wt={};class xt{constructor(t){this.choozrId=t}}class Ot{constructor(t){this.choozrId=t}}class jt{constructor(t){this.teamId=t}}class Tt{constructor(t){this.teamId=t}}function Ct(e){let n,r,i,s,a,c,u,l,p,g,w,O,j,T,C;return{c(){n=_("h1"),n.textContent="Login",r=b(),i=_("h2"),i.textContent="Api Key",s=b(),a=_("input"),c=b(),u=_("h2"),u.textContent="App Id",l=b(),p=_("input"),g=b(),w=_("button"),O=m("Valider"),y(n,"class","is-size-1 mb-5 has-text-centered"),y(a,"id","api-key"),y(a,"class","mt-1"),y(a,"type","password"),y(u,"class","mt-2"),y(p,"id","app-id"),y(p,"class","mt-1"),y(p,"type","password"),y(w,"class","mt-4"),w.disabled=j=!e[0]||!e[1]},m(t,o){h(t,n,o),h(t,r,o),h(t,i,o),h(t,s,o),h(t,a,o),x(a,e[1]),h(t,c,o),h(t,u,o),h(t,l,o),h(t,p,o),x(p,e[0]),h(t,g,o),h(t,w,o),f(w,O),T||(C=[v(a,"input",e[3]),v(p,"input",e[4]),v(w,"click",e[2])],T=!0)},p(t,e){2&e&&a.value!==t[1]&&x(a,t[1]),1&e&&p.value!==t[0]&&x(p,t[0]),3&e&&j!==(j=!t[0]||!t[1])&&(w.disabled=j)},i:t,o:t,d(t){t&&d(n),t&&d(r),t&&d(i),t&&d(s),t&&d(a),t&&d(c),t&&d(u),t&&d(l),t&&d(p),t&&d(g),t&&d(w),T=!1,o(C)}}}function kt(e){let n,r;return n=new yt({}),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){W(n.$$.fragment,t),r=!1},d(t){Z(n,t)}}}function Et(t){let e,n,r,o,i,s;const a=[kt,Ct],c=[];return o=1,i=c[1]=a[1](t),{c(){e=_("section"),n=_("div"),r=_("div"),i.c(),y(r,"class","is-flex is-flex-direction-column"),y(n,"class","hero-body is-flex is-justify-content-center"),y(e,"class","hero is-primary is-fullheight")},m(t,o){h(t,e,o),f(e,n),f(n,r),c[1].m(r,null),s=!0},p(t,[e]){i.p(t,e)},i(t){s||(H(i),s=!0)},o(t){W(i),s=!1},d(t){t&&d(e),c[1].d()}}}function At(t,e,n){let r="",o="";const i=C(),s=E("loginUseCase");return[r,o,function(){s.login(new gt(r,o)),i("routeEvent",wt)},function(){o=this.value,n(1,o)},function(){r=this.value,n(0,r)}]}class $t extends et{constructor(t){super(),tt(this,t,At,Et,s,{})}}class Lt{constructor(t){this.value=t}}function Rt(t,e,n){const r=t.slice();return r[10]=e[n].id,r[11]=e[n].name,r}function Pt(e){let n,r,o,i,s=e[1],a=[];for(let t=0;t<s.length;t+=1)a[t]=Mt(Rt(e,s,t));return{c(){n=_("table"),r=_("thead"),r.innerHTML="<tr><th>Choozrs</th></tr>",o=b(),i=_("tbody");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class","table is-striped is-hoverable")},m(t,e){h(t,n,e),f(n,r),f(n,o),f(n,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null)},p(t,e){if(10&e){let n;for(s=t[1],n=0;n<s.length;n+=1){const r=Rt(t,s,n);a[n]?a[n].p(r,e):(a[n]=Mt(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:t,o:t,d(t){t&&d(n),p(a,t)}}}function It(e){let n,r,o;return r=new yt({}),{c(){n=_("div"),X(r.$$.fragment),y(n,"class","is-flex is-justify-content-center")},m(t,e){h(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(H(r.$$.fragment,t),o=!0)},o(t){W(r.$$.fragment,t),o=!1},d(t){t&&d(n),Z(r)}}}function Mt(t){let e,n,r,o,i,s,a=t[11].value+"";function c(){return t[5](t[10])}return{c(){e=_("tr"),n=_("td"),r=m(a),o=b(),y(e,"class","is-clickable")},m(t,a){h(t,e,a),f(e,n),f(n,r),f(e,o),i||(s=v(e,"click",c),i=!0)},p(e,n){t=e,2&n&&a!==(a=t[11].value+"")&&w(r,a)},d(t){t&&d(e),i=!1,s()}}}function St(t){let e,n,r,i,s,a,c,u,l,p,g,w,O,j,T,C,k,E,A,$;const L=[It,Pt],R=[];function P(t,e){return t[2]?0:1}return a=P(t),c=R[a]=L[a](t),{c(){e=_("section"),n=_("div"),r=_("div"),i=_("h1"),i.textContent="Home",s=b(),c.c(),u=b(),l=_("hr"),p=b(),g=_("h2"),g.textContent="Nouveau Choozr",w=b(),O=_("input"),j=b(),T=_("button"),C=m("Créer"),y(i,"class","is-size-1 has-text-centered mb-5"),y(O,"id","app-id"),y(O,"class","mt-1"),y(T,"class","mt-4"),T.disabled=k=!t[0],y(r,"class","is-flex is-flex-direction-column"),y(n,"class","hero-body is-flex is-justify-content-center"),y(e,"class","hero is-primary is-fullheight")},m(o,c){h(o,e,c),f(e,n),f(n,r),f(r,i),f(r,s),R[a].m(r,null),f(r,u),f(r,l),f(r,p),f(r,g),f(r,w),f(r,O),x(O,t[0]),f(r,j),f(r,T),f(T,C),E=!0,A||($=[v(O,"input",t[6]),v(T,"click",t[4])],A=!0)},p(t,[e]){let n=a;a=P(t),a===n?R[a].p(t,e):(G(),W(R[n],1,1,(()=>{R[n]=null})),V(),c=R[a],c?c.p(t,e):(c=R[a]=L[a](t),c.c()),H(c,1),c.m(r,u)),1&e&&O.value!==t[0]&&x(O,t[0]),(!E||1&e&&k!==(k=!t[0]))&&(T.disabled=k)},i(t){E||(H(c),E=!0)},o(t){W(c),E=!1},d(t){t&&d(e),R[a].d(),A=!1,o($)}}}function zt(t,e,n){const r=E("getChoozrsUseCase"),o=E("createChoozrUseCase"),i=C();let s="",a=[],c=!0;function u(t){i("routeEvent",new Ot(t))}T((()=>{r.getChoozrs().then((t=>{n(1,a=t)})).catch((t=>console.log(t))).finally((()=>{n(2,c=!1)}))}));return[s,a,c,u,function(){o.createChoozrWith(new Lt(s)).then((t=>i("routeEvent",new xt(t.id)))).catch((t=>console.log(t)))},t=>u(t),function(){s=this.value,n(0,s)}]}class Nt extends et{constructor(t){super(),tt(this,t,zt,St,s,{})}}class Bt{constructor(t){this.value=t}}class Ut{constructor(t,e,n,r){this.createChoozrPort=t,this.getLoginParametersPort=e,this.getChoozrsPort=n,this.getChoozrTeamsPort=r}async getChoozrTeamsWith(t){const e=this.getLoginParametersPort.getLoginParameters();return await this.getChoozrTeamsPort.getChoozrTeamsWith(t,e)}async getChoozrs(){const t=this.getLoginParametersPort.getLoginParameters();return await this.getChoozrsPort.getChoozrsWith(t)}generateJoinChoozrURLWith(t){const e=this.getLoginParametersPort.getLoginParameters();return Promise.resolve(new Bt(`https://thomas-boutin.github.io/Choozr/#/choozrs/${t.value}/join?appId=${e.appId}&apiKey=${e.apiKey}`))}async createChoozrWith(t){const e=this.getLoginParametersPort.getLoginParameters();return await this.createChoozrPort.createChoozrWith(t,e)}}var Dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ft(t){var e={exports:{}};return t(e,e.exports),e.exports}function Kt(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var Gt=Ft((function(t,e){t.exports=function(){function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){if(!a&&Kt)return Kt(s);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return o(e[s][1][t]||t)}),u,u.exports,t,e,n,r)}return n[s].exports}for(var i=Kt,s=0;s<r.length;s++)o(r[s]);return o}return t}()({1:[function(t,e,n){var r;r="undefined"==typeof window?t("abort-controller"):"signal"in new Request("")?window.AbortController:t("abortcontroller-polyfill/dist/cjs-ponyfill").AbortController,e.exports=r},{"abort-controller":20,"abortcontroller-polyfill/dist/cjs-ponyfill":19}],2:[function(t,e,n){var r=function(){function t(t,e,n){this.error=t,this.message=e,this.statusCode=n}return t.prototype.toString=function(){return[this.message,"(",this.error,")",this.statusCode?"[Http code "+this.statusCode+"]":""].join("")},t}();e.exports=r},{}],3:[function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=o(t("lodash/get")),s=o(t("lodash/isPlainObject")),a=o(t("lodash/keys")),c=o(t("./fetch")),u=o(t("./abort-controller")),l=o(t("./object_to_query_param_string")),f=o(t("./airtable_error")),h=o(t("./table")),d=o(t("./http_headers")),p=o(t("./run_action")),_=o(t("./package_version")),m=o(t("./exponential_backoff_with_jitter")),b="Airtable.js/"+_.default,g=function(){function t(t,e){this._airtable=t,this._id=e}return t.prototype.table=function(t){return new h.default(this,null,t)},t.prototype.makeRequest=function(t){var e,n=this;void 0===t&&(t={});var o=i.default(t,"method","GET").toUpperCase(),s=this._airtable._endpointUrl+"/v"+this._airtable._apiVersionMajor+"/"+this._id+i.default(t,"path","/")+"?"+l.default(i.default(t,"qs",{})),a=new u.default,h={method:o,headers:this._getRequestHeaders(Object.assign({},this._airtable._customHeaders,null!==(e=t.headers)&&void 0!==e?e:{})),signal:a.signal};"body"in t&&v(o)&&(h.body=JSON.stringify(t.body));var d=setTimeout((function(){a.abort()}),this._airtable._requestTimeout);return new Promise((function(e,o){c.default(s,h).then((function(s){if(clearTimeout(d),429!==s.status||n._airtable._noRetryIfRateLimited)s.json().then((function(t){var r=n._checkStatusForError(s.status,t)||y(s.status,t);r?o(r):e({statusCode:s.status,headers:s.headers,body:t})})).catch((function(){var t=y(s.status);o(t)}));else{var a=i.default(t,"_numAttempts",0),c=m.default(a);setTimeout((function(){var i=r(r({},t),{_numAttempts:a+1});n.makeRequest(i).then(e).catch(o)}),c)}})).catch((function(t){clearTimeout(d),t=new f.default("CONNECTION_ERROR",t.message,null),o(t)}))}))},t.prototype.runAction=function(t,e,n,r,o){p.default(this,t,e,n,r,o,0)},t.prototype._getRequestHeaders=function(t){var e=new d.default;e.set("Authorization","Bearer "+this._airtable._apiKey),e.set("User-Agent",b),e.set("Content-Type","application/json");for(var n=0,r=a.default(t);n<r.length;n++){var o=r[n];e.set(o,t[o])}return e.toJSON()},t.prototype._checkStatusForError=function(t,e){var n=(null!=e?e:{error:{}}).error,r=void 0===n?{}:n,o=r.type,i=r.message;return 401===t?new f.default("AUTHENTICATION_REQUIRED","You should provide valid api key to perform this operation",t):403===t?new f.default("NOT_AUTHORIZED","You are not authorized to perform this operation",t):404===t?new f.default("NOT_FOUND",null!=i?i:"Could not find what you are looking for",t):413===t?new f.default("REQUEST_TOO_LARGE","Request body is too large",t):422===t?new f.default(null!=o?o:"UNPROCESSABLE_ENTITY",null!=i?i:"The operation cannot be processed",t):429===t?new f.default("TOO_MANY_REQUESTS","You have made too many requests in a short period of time. Please retry your request later",t):500===t?new f.default("SERVER_ERROR","Try again. If the problem persists, contact support.",t):503===t?new f.default("SERVICE_UNAVAILABLE","The service is temporarily unavailable. Please retry shortly.",t):t>=400?new f.default(null!=o?o:"UNEXPECTED_ERROR",null!=i?i:"An unexpected error occurred",t):null},t.prototype.doCall=function(t){return this.table(t)},t.prototype.getId=function(){return this._id},t.createFunctor=function(e,n){var r=new t(e,n),o=function(t){return r.doCall(t)};return o._base=r,o.table=r.table.bind(r),o.makeRequest=r.makeRequest.bind(r),o.runAction=r.runAction.bind(r),o.getId=r.getId.bind(r),o},t}();function v(t){return"GET"!==t&&"DELETE"!==t}function y(t,e){return s.default(e)?null:new f.default("UNEXPECTED_ERROR","The response from Airtable was invalid JSON. Please try again soon.",t)}e.exports=g},{"./abort-controller":1,"./airtable_error":2,"./exponential_backoff_with_jitter":6,"./fetch":7,"./http_headers":9,"./object_to_query_param_string":11,"./package_version":12,"./run_action":16,"./table":17,"lodash/get":77,"lodash/isPlainObject":89,"lodash/keys":93}],4:[function(t,e,n){function r(t,e,n){return void 0===n&&(n=void 0),function(){for(var r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if("function"!=typeof o[r=void 0===n?o.length>0?o.length-1:0:n]){for(var s=[],a=Math.max(o.length,r),c=0;c<a;c++)s.push(o[c]);return new Promise((function(n,r){s.push((function(t,e){t?r(t):n(e)})),t.apply(e,s)}))}t.apply(e,o)}}e.exports=r},{}],5:[function(t,e,n){var r={};function o(t,e,n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r[e]||(r[e]=!0,console.warn(n)),t.apply(this,o)}}e.exports=o},{}],6:[function(t,e,n){var r=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(t("./internal_config.json"));function o(t){var e=r.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED*Math.pow(2,t),n=Math.min(r.default.MAX_RETRY_DELAY_IF_RATE_LIMITED,e);return Math.random()*n}e.exports=o},{"./internal_config.json":10}],7:[function(t,e,n){var r=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(t("node-fetch"));e.exports="undefined"==typeof window?r.default:window.fetch.bind(window)},{"node-fetch":20}],8:[function(t,e,n){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=r},{}],9:[function(t,e,n){var r=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(t("lodash/keys")),o="undefined"!=typeof window,i=function(){function t(){this._headersByLowercasedKey={}}return t.prototype.set=function(t,e){var n=t.toLowerCase();"x-airtable-user-agent"===n&&(n="user-agent",t="User-Agent"),this._headersByLowercasedKey[n]={headerKey:t,headerValue:e}},t.prototype.toJSON=function(){for(var t={},e=0,n=r.default(this._headersByLowercasedKey);e<n.length;e++){var i=n[e],s=this._headersByLowercasedKey[i];t[o&&"user-agent"===i?"X-Airtable-User-Agent":s.headerKey]=s.headerValue}return t},t}();e.exports=i},{"lodash/keys":93}],10:[function(t,e,n){e.exports={INITIAL_RETRY_DELAY_IF_RATE_LIMITED:5e3,MAX_RETRY_DELAY_IF_RATE_LIMITED:6e5}},{}],11:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=r(t("lodash/isArray")),i=r(t("lodash/isNil")),s=r(t("lodash/keys"));function a(t,e,n){if(o.default(e))for(var r=0;r<e.length;r++){var i=e[r];/\[\]$/.test(t)?n(t,i):a(t+"["+("object"==typeof i&&null!==i?r:"")+"]",i,n)}else if("object"==typeof e)for(var c=0,u=s.default(e);c<u.length;c++){var l=u[c];a(t+"["+l+"]",i=e[l],n)}else n(t,e)}function c(t){for(var e=[],n=function(t,n){n=i.default(n)?"":n,e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=s.default(t);r<o.length;r++){var c=o[r];a(c,t[c],n)}return e.join("&").replace(/%20/g,"+")}e.exports=c},{"lodash/isArray":79,"lodash/isNil":85,"lodash/keys":93}],12:[function(t,e,n){e.exports="0.11.4"},{}],13:[function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=o(t("lodash/isFunction")),s=o(t("lodash/keys")),a=o(t("./record")),c=o(t("./callback_to_promise")),u=o(t("./has")),l=t("./query_params"),f=function(){function t(t,e){this._table=t,this._params=e,this.firstPage=c.default(h,this),this.eachPage=c.default(d,this,1),this.all=c.default(p,this)}return t.validateParams=function(e){for(var n={},r=[],o=[],i=0,a=s.default(e);i<a.length;i++){var c=a[i],l=e[c];if(u.default(t.paramValidators,c)){var f=(0,t.paramValidators[c])(l);f.pass?n[c]=l:o.push(f.error)}else r.push(c)}return{validParams:n,ignoredKeys:r,errors:o}},t.paramValidators=l.paramValidators,t}();function h(t){if(!i.default(t))throw new Error("The first parameter to `firstPage` must be a function");this.eachPage((function(e){t(null,e)}),(function(e){t(e,null)}))}function d(t,e){var n=this;if(!i.default(t))throw new Error("The first parameter to `eachPage` must be a function");if(!i.default(e)&&void 0!==e)throw new Error("The second parameter to `eachPage` must be a function or undefined");var o="/"+this._table._urlEncodedNameOrId(),s=r({},this._params),c=function(){n._table._base.runAction("get",o,s,null,(function(r,o,i){if(r)e(r,null);else{var u=void 0;i.offset?(s.offset=i.offset,u=c):u=function(){e(null)};var l=i.records.map((function(t){return new a.default(n._table,null,t)}));t(l,u)}}))};c()}function p(t){if(!i.default(t))throw new Error("The first parameter to `all` must be a function");var e=[];this.eachPage((function(t,n){e.push.apply(e,t),n()}),(function(n){n?t(n,null):t(null,e)}))}e.exports=f},{"./callback_to_promise":4,"./has":8,"./query_params":14,"./record":15,"lodash/isFunction":83,"lodash/keys":93}],14:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.paramValidators=void 0;var o=r(t("./typecheck")),i=r(t("lodash/isString")),s=r(t("lodash/isNumber")),a=r(t("lodash/isPlainObject")),c=r(t("lodash/isBoolean"));n.paramValidators={fields:o.default(o.default.isArrayOf(i.default),"the value for `fields` should be an array of strings"),filterByFormula:o.default(i.default,"the value for `filterByFormula` should be a string"),maxRecords:o.default(s.default,"the value for `maxRecords` should be a number"),pageSize:o.default(s.default,"the value for `pageSize` should be a number"),offset:o.default(s.default,"the value for `offset` should be a number"),sort:o.default(o.default.isArrayOf((function(t){return a.default(t)&&i.default(t.field)&&(void 0===t.direction||["asc","desc"].includes(t.direction))})),'the value for `sort` should be an array of sort objects. Each sort object must have a string `field` value, and an optional `direction` value that is "asc" or "desc".'),view:o.default(i.default,"the value for `view` should be a string"),cellFormat:o.default((function(t){return i.default(t)&&["json","string"].includes(t)}),'the value for `cellFormat` should be "json" or "string"'),timeZone:o.default(i.default,"the value for `timeZone` should be a string"),userLocale:o.default(i.default,"the value for `userLocale` should be a string"),returnFieldsByFieldId:o.default(c.default,"the value for `returnFieldsByFieldId` should be a boolean")}},{"./typecheck":18,"lodash/isBoolean":81,"lodash/isNumber":86,"lodash/isPlainObject":89,"lodash/isString":90}],15:[function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(t("./callback_to_promise")),i=function(){function t(t,e,n){this._table=t,this.id=e||n.id,this.setRawJson(n),this.save=o.default(s,this),this.patchUpdate=o.default(a,this),this.putUpdate=o.default(c,this),this.destroy=o.default(u,this),this.fetch=o.default(l,this),this.updateFields=this.patchUpdate,this.replaceFields=this.putUpdate}return t.prototype.getId=function(){return this.id},t.prototype.get=function(t){return this.fields[t]},t.prototype.set=function(t,e){this.fields[t]=e},t.prototype.setRawJson=function(t){this._rawJson=t,this.fields=this._rawJson&&this._rawJson.fields||{}},t}();function s(t){this.putUpdate(this.fields,t)}function a(t,e,n){var o=this;n||(n=e,e={});var i=r({fields:t},e);this._table._base.runAction("patch","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},i,(function(t,e,r){t?n(t):(o.setRawJson(r),n(null,o))}))}function c(t,e,n){var o=this;n||(n=e,e={});var i=r({fields:t},e);this._table._base.runAction("put","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},i,(function(t,e,r){t?n(t):(o.setRawJson(r),n(null,o))}))}function u(t){var e=this;this._table._base.runAction("delete","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,(function(n){n?t(n):t(null,e)}))}function l(t){var e=this;this._table._base.runAction("get","/"+this._table._urlEncodedNameOrId()+"/"+this.id,{},null,(function(n,r,o){n?t(n):(e.setRawJson(o),t(null,e))}))}e.exports=i},{"./callback_to_promise":4}],16:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=r(t("./exponential_backoff_with_jitter")),i=r(t("./object_to_query_param_string")),s=r(t("./package_version")),a=r(t("./fetch")),c=r(t("./abort-controller")),u="Airtable.js/"+s.default;function l(t,e,n,r,s,f,h){var d=t._airtable._endpointUrl+"/v"+t._airtable._apiVersionMajor+"/"+t._id+n+"?"+i.default(r),p={authorization:"Bearer "+t._airtable._apiKey,"x-api-version":t._airtable._apiVersion,"x-airtable-application-id":t.getId(),"content-type":"application/json"};"undefined"!=typeof window?p["x-airtable-user-agent"]=u:p["User-Agent"]=u;var _=new c.default,m=e.toUpperCase(),b={method:m,headers:p,signal:_.signal};null!==s&&("GET"===m||"HEAD"===m?console.warn("body argument to runAction are ignored with GET or HEAD requests"):b.body=JSON.stringify(s));var g=setTimeout((function(){_.abort()}),t._airtable._requestTimeout);a.default(d,b).then((function(i){if(clearTimeout(g),429!==i.status||t._airtable._noRetryIfRateLimited)i.json().then((function(e){var n=t._checkStatusForError(i.status,e),r={};Object.keys(i).forEach((function(t){r[t]=i[t]})),r.body=e,r.statusCode=i.status,f(n,r,e)})).catch((function(){f(t._checkStatusForError(i.status))}));else{var a=o.default(h);setTimeout((function(){l(t,e,n,r,s,f,h+1)}),a)}})).catch((function(t){clearTimeout(g),f(t)}))}e.exports=l},{"./abort-controller":1,"./exponential_backoff_with_jitter":6,"./fetch":7,"./object_to_query_param_string":11,"./package_version":12}],17:[function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=o(t("lodash/isPlainObject")),s=o(t("./deprecate")),a=o(t("./query")),c=o(t("./record")),u=o(t("./callback_to_promise")),l=function(){function t(t,e,n){if(!e&&!n)throw new Error("Table name or table ID is required");this._base=t,this.id=e,this.name=n,this.find=u.default(this._findRecordById,this),this.select=this._selectRecords.bind(this),this.create=u.default(this._createRecords,this),this.update=u.default(this._updateRecords.bind(this,!1),this),this.replace=u.default(this._updateRecords.bind(this,!0),this),this.destroy=u.default(this._destroyRecord,this),this.list=s.default(this._listRecords.bind(this),"table.list","Airtable: `list()` is deprecated. Use `select()` instead."),this.forEach=s.default(this._forEachRecord.bind(this),"table.forEach","Airtable: `forEach()` is deprecated. Use `select()` instead.")}return t.prototype._findRecordById=function(t,e){new c.default(this,t).fetch(e)},t.prototype._selectRecords=function(t){if(void 0===t&&(t={}),arguments.length>1&&console.warn("Airtable: `select` takes only one parameter, but it was given "+arguments.length+" parameters. Use `eachPage` or `firstPage` to fetch records."),i.default(t)){var e=a.default.validateParams(t);if(e.errors.length){var n=e.errors.map((function(t){return"  * "+t}));throw new Error("Airtable: invalid parameters for `select`:\n"+n.join("\n"))}return e.ignoredKeys.length&&console.warn("Airtable: the following parameters to `select` will be ignored: "+e.ignoredKeys.join(", ")),new a.default(this,e.validParams)}throw new Error("Airtable: the parameter for `select` should be a plain object or undefined.")},t.prototype._urlEncodedNameOrId=function(){return this.id||encodeURIComponent(this.name)},t.prototype._createRecords=function(t,e,n){var o,i=this,s=Array.isArray(t);n||(n=e,e={}),o=r(s?{records:t}:{fields:t},e),this._base.runAction("post","/"+this._urlEncodedNameOrId()+"/",{},o,(function(t,e,r){var o;t?n(t):(o=s?r.records.map((function(t){return new c.default(i,t.id,t)})):new c.default(i,r.id,r),n(null,o))}))},t.prototype._updateRecords=function(t,e,n,o,s){var a,u=this;if(Array.isArray(e)){var l=e;a=i.default(n)?n:{},s=o||n;var f=t?"put":"patch",h=r({records:l},a);this._base.runAction(f,"/"+this._urlEncodedNameOrId()+"/",{},h,(function(t,e,n){if(t)s(t);else{var r=n.records.map((function(t){return new c.default(u,t.id,t)}));s(null,r)}}))}else{var d=e,p=n;a=i.default(o)?o:{},s=s||o;var _=new c.default(this,d);t?_.putUpdate(p,a,s):_.patchUpdate(p,a,s)}},t.prototype._destroyRecord=function(t,e){var n=this;if(Array.isArray(t)){var r={records:t};this._base.runAction("delete","/"+this._urlEncodedNameOrId(),r,null,(function(t,r,o){if(t)e(t);else{var i=o.records.map((function(t){var e=t.id;return new c.default(n,e,null)}));e(null,i)}}))}else new c.default(this,t).destroy(e)},t.prototype._listRecords=function(t,e,n,o){var i=this;o||(o=n,n={});var s=r({limit:t,offset:e},n);this._base.runAction("get","/"+this._urlEncodedNameOrId()+"/",s,null,(function(t,e,n){if(t)o(t);else{var r=n.records.map((function(t){return new c.default(i,null,t)}));o(null,r,n.offset)}}))},t.prototype._forEachRecord=function(e,n,r){var o=this;2===arguments.length&&(r=n,n=e,e={});var i=t.__recordsPerPageForIteration||100,s=null,a=function(){o._listRecords(i,s,e,(function(t,e,o){if(t)r(t);else{for(var i=0;i<e.length;i++)n(e[i]);o?(s=o,a()):r()}}))};a()},t}();e.exports=l},{"./callback_to_promise":4,"./deprecate":5,"./query":13,"./record":15,"lodash/isPlainObject":89}],18:[function(t,e,n){function r(t,e){return function(n){return t(n)?{pass:!0}:{pass:!1,error:e}}}r.isOneOf=function(t){return t.includes.bind(t)},r.isArrayOf=function(t){return function(e){return Array.isArray(e)&&e.every(t)}},e.exports=r},{}],19:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=f(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){r(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(t,[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,o=n.length;r<o;r++)if(n[r]===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){var e=this;if(t.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(e,t)}))},r=this.listeners[t.type],o=0,i=r.length;o<i;o++)n(r[o]);return!t.defaultPrevented}}}]),t}(),p=function(t){function e(){var t;return r(this,e),(t=l(this,a(e).call(this))).listeners||d.call(u(t)),Object.defineProperty(u(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return s(e,t),i(e,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(a(e.prototype),"dispatchEvent",this).call(this,t)}}]),e}(d),_=function(){function t(){r(this,t),Object.defineProperty(this,"signal",{value:new p,writable:!0,configurable:!0})}return i(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function m(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function b(t){"function"==typeof t&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,o=void 0===r?n.Request:r,i=e.AbortController,s=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==s&&s;if(!m({fetch:n,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:n,Request:c};var c=o;(c&&!c.prototype.hasOwnProperty("signal")||a)&&(c=function(t,e){var n;e&&e.signal&&(n=e.signal,delete e.signal);var r=new o(t,e);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r},c.prototype=o.prototype);var u=n,l=function(t,e){var n=c&&c.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(t){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var o=new Promise((function(t,e){n.addEventListener("abort",(function(){return e(r)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([o,u(t,e)])}return u(t,e)};return{fetch:l,Request:c}}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",p.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortController=_,n.AbortSignal=p,n.abortableFetch=b},{}],20:[function(t,e,n){},{}],21:[function(t,e,n){var r=t("./_hashClear"),o=t("./_hashDelete"),i=t("./_hashGet"),s=t("./_hashHas"),a=t("./_hashSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},{"./_hashClear":46,"./_hashDelete":47,"./_hashGet":48,"./_hashHas":49,"./_hashSet":50}],22:[function(t,e,n){var r=t("./_listCacheClear"),o=t("./_listCacheDelete"),i=t("./_listCacheGet"),s=t("./_listCacheHas"),a=t("./_listCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},{"./_listCacheClear":56,"./_listCacheDelete":57,"./_listCacheGet":58,"./_listCacheHas":59,"./_listCacheSet":60}],23:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Map");e.exports=r},{"./_getNative":42,"./_root":72}],24:[function(t,e,n){var r=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),i=t("./_mapCacheGet"),s=t("./_mapCacheHas"),a=t("./_mapCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},{"./_mapCacheClear":61,"./_mapCacheDelete":62,"./_mapCacheGet":63,"./_mapCacheHas":64,"./_mapCacheSet":65}],25:[function(t,e,n){var r=t("./_root").Symbol;e.exports=r},{"./_root":72}],26:[function(t,e,n){var r=t("./_baseTimes"),o=t("./isArguments"),i=t("./isArray"),s=t("./isBuffer"),a=t("./_isIndex"),c=t("./isTypedArray"),u=Object.prototype.hasOwnProperty;function l(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&s(t),h=!n&&!l&&!f&&c(t),d=n||l||f||h,p=d?r(t.length,String):[],_=p.length;for(var m in t)!e&&!u.call(t,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,_))||p.push(m);return p}e.exports=l},{"./_baseTimes":35,"./_isIndex":51,"./isArguments":78,"./isArray":79,"./isBuffer":82,"./isTypedArray":92}],27:[function(t,e,n){function r(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}e.exports=r},{}],28:[function(t,e,n){var r=t("./eq");function o(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}e.exports=o},{"./eq":76}],29:[function(t,e,n){var r=t("./_castPath"),o=t("./_toKey");function i(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}e.exports=i},{"./_castPath":38,"./_toKey":74}],30:[function(t,e,n){var r=t("./_Symbol"),o=t("./_getRawTag"),i=t("./_objectToString"),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;function u(t){return null==t?void 0===t?a:s:c&&c in Object(t)?o(t):i(t)}e.exports=u},{"./_Symbol":25,"./_getRawTag":44,"./_objectToString":70}],31:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Arguments]";function s(t){return o(t)&&r(t)==i}e.exports=s},{"./_baseGetTag":30,"./isObjectLike":88}],32:[function(t,e,n){var r=t("./isFunction"),o=t("./_isMasked"),i=t("./isObject"),s=t("./_toSource"),a=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,f=u.toString,h=l.hasOwnProperty,d=RegExp("^"+f.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(t){return!(!i(t)||o(t))&&(r(t)?d:c).test(s(t))}e.exports=p},{"./_isMasked":54,"./_toSource":75,"./isFunction":83,"./isObject":87}],33:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isLength"),i=t("./isObjectLike"),s="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",_="[object RegExp]",m="[object Set]",b="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",w="[object Float64Array]",x="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",A={};function $(t){return i(t)&&o(t.length)&&!!A[r(t)]}A["[object Float32Array]"]=A[w]=A[x]=A[O]=A[j]=A[T]=A[C]=A[k]=A[E]=!0,A[s]=A[a]=A[v]=A[c]=A[y]=A[u]=A[l]=A[f]=A[h]=A[d]=A[p]=A[_]=A[m]=A[b]=A[g]=!1,e.exports=$},{"./_baseGetTag":30,"./isLength":84,"./isObjectLike":88}],34:[function(t,e,n){var r=t("./_isPrototype"),o=t("./_nativeKeys"),i=Object.prototype.hasOwnProperty;function s(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}e.exports=s},{"./_isPrototype":55,"./_nativeKeys":68}],35:[function(t,e,n){function r(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}e.exports=r},{}],36:[function(t,e,n){var r=t("./_Symbol"),o=t("./_arrayMap"),i=t("./isArray"),s=t("./isSymbol"),a=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;function l(t){if("string"==typeof t)return t;if(i(t))return o(t,l)+"";if(s(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}e.exports=l},{"./_Symbol":25,"./_arrayMap":27,"./isArray":79,"./isSymbol":91}],37:[function(t,e,n){function r(t){return function(e){return t(e)}}e.exports=r},{}],38:[function(t,e,n){var r=t("./isArray"),o=t("./_isKey"),i=t("./_stringToPath"),s=t("./toString");function a(t,e){return r(t)?t:o(t,e)?[t]:i(s(t))}e.exports=a},{"./_isKey":52,"./_stringToPath":73,"./isArray":79,"./toString":96}],39:[function(t,e,n){var r=t("./_root")["__core-js_shared__"];e.exports=r},{"./_root":72}],40:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,void 0!==Dt?Dt:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(t,e,n){var r=t("./_isKeyable");function o(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}e.exports=o},{"./_isKeyable":53}],42:[function(t,e,n){var r=t("./_baseIsNative"),o=t("./_getValue");function i(t,e){var n=o(t,e);return r(n)?n:void 0}e.exports=i},{"./_baseIsNative":32,"./_getValue":45}],43:[function(t,e,n){var r=t("./_overArg")(Object.getPrototypeOf,Object);e.exports=r},{"./_overArg":71}],44:[function(t,e,n){var r=t("./_Symbol"),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;function c(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[a]=n:delete t[a]),o}e.exports=c},{"./_Symbol":25}],45:[function(t,e,n){function r(t,e){return null==t?void 0:t[e]}e.exports=r},{}],46:[function(t,e,n){var r=t("./_nativeCreate");function o(){this.__data__=r?r(null):{},this.size=0}e.exports=o},{"./_nativeCreate":67}],47:[function(t,e,n){function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}e.exports=r},{}],48:[function(t,e,n){var r=t("./_nativeCreate"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;function s(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}e.exports=s},{"./_nativeCreate":67}],49:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;function i(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}e.exports=i},{"./_nativeCreate":67}],50:[function(t,e,n){var r=t("./_nativeCreate"),o="__lodash_hash_undefined__";function i(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}e.exports=i},{"./_nativeCreate":67}],51:[function(t,e,n){var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function i(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}e.exports=i},{}],52:[function(t,e,n){var r=t("./isArray"),o=t("./isSymbol"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||s.test(t)||!i.test(t)||null!=e&&t in Object(e)}e.exports=a},{"./isArray":79,"./isSymbol":91}],53:[function(t,e,n){function r(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}e.exports=r},{}],54:[function(t,e,n){var r,o=t("./_coreJsData"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";function s(t){return!!i&&i in t}e.exports=s},{"./_coreJsData":39}],55:[function(t,e,n){var r=Object.prototype;function o(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}e.exports=o},{}],56:[function(t,e,n){function r(){this.__data__=[],this.size=0}e.exports=r},{}],57:[function(t,e,n){var r=t("./_assocIndexOf"),o=Array.prototype.splice;function i(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}e.exports=i},{"./_assocIndexOf":28}],58:[function(t,e,n){var r=t("./_assocIndexOf");function o(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}e.exports=o},{"./_assocIndexOf":28}],59:[function(t,e,n){var r=t("./_assocIndexOf");function o(t){return r(this.__data__,t)>-1}e.exports=o},{"./_assocIndexOf":28}],60:[function(t,e,n){var r=t("./_assocIndexOf");function o(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}e.exports=o},{"./_assocIndexOf":28}],61:[function(t,e,n){var r=t("./_Hash"),o=t("./_ListCache"),i=t("./_Map");function s(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}e.exports=s},{"./_Hash":21,"./_ListCache":22,"./_Map":23}],62:[function(t,e,n){var r=t("./_getMapData");function o(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}e.exports=o},{"./_getMapData":41}],63:[function(t,e,n){var r=t("./_getMapData");function o(t){return r(this,t).get(t)}e.exports=o},{"./_getMapData":41}],64:[function(t,e,n){var r=t("./_getMapData");function o(t){return r(this,t).has(t)}e.exports=o},{"./_getMapData":41}],65:[function(t,e,n){var r=t("./_getMapData");function o(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}e.exports=o},{"./_getMapData":41}],66:[function(t,e,n){var r=t("./memoize"),o=500;function i(t){var e=r(t,(function(t){return n.size===o&&n.clear(),t})),n=e.cache;return e}e.exports=i},{"./memoize":94}],67:[function(t,e,n){var r=t("./_getNative")(Object,"create");e.exports=r},{"./_getNative":42}],68:[function(t,e,n){var r=t("./_overArg")(Object.keys,Object);e.exports=r},{"./_overArg":71}],69:[function(t,e,n){var r=t("./_freeGlobal"),o="object"==typeof n&&n&&!n.nodeType&&n,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},{"./_freeGlobal":40}],70:[function(t,e,n){var r=Object.prototype.toString;function o(t){return r.call(t)}e.exports=o},{}],71:[function(t,e,n){function r(t,e){return function(n){return t(e(n))}}e.exports=r},{}],72:[function(t,e,n){var r=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},{"./_freeGlobal":40}],73:[function(t,e,n){var r=t("./_memoizeCapped"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));e.exports=s},{"./_memoizeCapped":66}],74:[function(t,e,n){var r=t("./isSymbol"),o=1/0;function i(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}e.exports=i},{"./isSymbol":91}],75:[function(t,e,n){var r=Function.prototype.toString;function o(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}e.exports=o},{}],76:[function(t,e,n){function r(t,e){return t===e||t!=t&&e!=e}e.exports=r},{}],77:[function(t,e,n){var r=t("./_baseGet");function o(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}e.exports=o},{"./_baseGet":29}],78:[function(t,e,n){var r=t("./_baseIsArguments"),o=t("./isObjectLike"),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};e.exports=c},{"./_baseIsArguments":31,"./isObjectLike":88}],79:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],80:[function(t,e,n){var r=t("./isFunction"),o=t("./isLength");function i(t){return null!=t&&o(t.length)&&!r(t)}e.exports=i},{"./isFunction":83,"./isLength":84}],81:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Boolean]";function s(t){return!0===t||!1===t||o(t)&&r(t)==i}e.exports=s},{"./_baseGetTag":30,"./isObjectLike":88}],82:[function(t,e,n){var r=t("./_root"),o=t("./stubFalse"),i="object"==typeof n&&n&&!n.nodeType&&n,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c},{"./_root":72,"./stubFalse":95}],83:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObject"),i="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";function u(t){if(!o(t))return!1;var e=r(t);return e==s||e==a||e==i||e==c}e.exports=u},{"./_baseGetTag":30,"./isObject":87}],84:[function(t,e,n){var r=9007199254740991;function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}e.exports=o},{}],85:[function(t,e,n){function r(t){return null==t}e.exports=r},{}],86:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Number]";function s(t){return"number"==typeof t||o(t)&&r(t)==i}e.exports=s},{"./_baseGetTag":30,"./isObjectLike":88}],87:[function(t,e,n){function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}e.exports=r},{}],88:[function(t,e,n){function r(t){return null!=t&&"object"==typeof t}e.exports=r},{}],89:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./_getPrototype"),i=t("./isObjectLike"),s="[object Object]",a=Function.prototype,c=Object.prototype,u=a.toString,l=c.hasOwnProperty,f=u.call(Object);function h(t){if(!i(t)||r(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}e.exports=h},{"./_baseGetTag":30,"./_getPrototype":43,"./isObjectLike":88}],90:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isArray"),i=t("./isObjectLike"),s="[object String]";function a(t){return"string"==typeof t||!o(t)&&i(t)&&r(t)==s}e.exports=a},{"./_baseGetTag":30,"./isArray":79,"./isObjectLike":88}],91:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike"),i="[object Symbol]";function s(t){return"symbol"==typeof t||o(t)&&r(t)==i}e.exports=s},{"./_baseGetTag":30,"./isObjectLike":88}],92:[function(t,e,n){var r=t("./_baseIsTypedArray"),o=t("./_baseUnary"),i=t("./_nodeUtil"),s=i&&i.isTypedArray,a=s?o(s):r;e.exports=a},{"./_baseIsTypedArray":33,"./_baseUnary":37,"./_nodeUtil":69}],93:[function(t,e,n){var r=t("./_arrayLikeKeys"),o=t("./_baseKeys"),i=t("./isArrayLike");function s(t){return i(t)?r(t):o(t)}e.exports=s},{"./_arrayLikeKeys":26,"./_baseKeys":34,"./isArrayLike":80}],94:[function(t,e,n){var r=t("./_MapCache"),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},{"./_MapCache":24}],95:[function(t,e,n){function r(){return!1}e.exports=r},{}],96:[function(t,e,n){var r=t("./_baseToString");function o(t){return null==t?"":r(t)}e.exports=o},{"./_baseToString":36}],airtable:[function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=r(t("./base")),i=r(t("./record")),s=r(t("./table")),a=r(t("./airtable_error")),c=function(){function t(e){void 0===e&&(e={});var n=t.default_config(),r=e.apiVersion||t.apiVersion||n.apiVersion;if(Object.defineProperties(this,{_apiKey:{value:e.apiKey||t.apiKey||n.apiKey},_apiVersion:{value:r},_apiVersionMajor:{value:r.split(".")[0]},_customHeaders:{value:e.customHeaders||{}},_endpointUrl:{value:e.endpointUrl||t.endpointUrl||n.endpointUrl},_noRetryIfRateLimited:{value:e.noRetryIfRateLimited||t.noRetryIfRateLimited||n.noRetryIfRateLimited},_requestTimeout:{value:e.requestTimeout||t.requestTimeout||n.requestTimeout}}),!this._apiKey)throw new Error("An API key is required to connect to Airtable")}return t.prototype.base=function(t){return o.default.createFunctor(this,t)},t.default_config=function(){return{endpointUrl:"https://api.airtable.com",apiVersion:"0.1.0",apiKey:void 0,noRetryIfRateLimited:!1,requestTimeout:3e5}},t.configure=function(e){var n=e.apiKey,r=e.endpointUrl,o=e.apiVersion,i=e.noRetryIfRateLimited,s=e.requestTimeout;t.apiKey=n,t.endpointUrl=r,t.apiVersion=o,t.noRetryIfRateLimited=i,t.requestTimeout=s},t.base=function(e){return(new t).base(e)},t.Base=o.default,t.Record=i.default,t.Table=s.default,t.Error=a.default,t}();e.exports=c},{"./airtable_error":2,"./base":3,"./record":15,"./table":17}]},{},["airtable"])("airtable")})),Vt=qt(Gt);class Ht{constructor(t,e){this.id=t,this.name=e}}class Wt{constructor(t){this.value=t}}class Yt{constructor(){this.recordToChoozr=t=>new Ht(new Wt(t.id),new Lt(t.get("name")))}async getChoozrsWith(t){const e=new Vt({apiKey:t.apiKey}).base(t.appId);return(await e("Choozr").select().firstPage()).map(this.recordToChoozr)}async createChoozrWith(t,e){const n=new Vt({apiKey:e.apiKey}).base(e.appId);return(await n("Choozr").create([{fields:{name:t.value}}])).map(this.recordToChoozr)[0]}}class Jt{constructor(t,e,n){this.createTeamPort=t,this.getLoginParametersPort=e,this.getTeamDetailsPort=n}async getTeamDetailsBy(t){const e=this.getLoginParametersPort.getLoginParameters();return await this.getTeamDetailsPort.getTeamDetailsWith(t,e)}async createTeamWith(t,e){const n=this.getLoginParametersPort.getLoginParameters();return await this.createTeamPort.createTeamWith(t,e,n)}}class Xt{constructor(t,e,n){this.id=t,this.name=e,this.choozrId=n}}class Qt{constructor(t){this.value=t}}class Zt{constructor(t){this.value=t}}class te{constructor(t,e){this.teamId=t,this.membersCount=e}}class ee{constructor(t,e,n){this.teamId=t,this.name=e,this.membersNames=n}}class ne{constructor(t){this.value=t}}class re{constructor(){this.recordToTeam=t=>new Xt(new Qt(t.id),new Zt(t.get("name")),new Wt(t.get("id (from Choozr)"))),this.recordToTeamDetails=t=>new ee(new Qt(t.id),new Zt(t.get("name")),t.get("name (from Member)").map((t=>new ne(t)))),this.recordToTeamMembersCount=t=>new te(new Qt(t.id),t.get("membersCount"))}async getChoozrTeamsWith(t,e){return(await this.fetchChoozrTeamsRecords(t,e)).map(this.recordToTeam)}async getTeamDetailsWith(t,e){const n=new Vt({apiKey:e.apiKey}).base(e.appId);return(await n("Team").select({filterByFormula:`{id} = '${t.value}'`}).firstPage()).map(this.recordToTeamDetails)[0]}async getTeamsMembersCountFrom(t,e){return(await this.fetchChoozrTeamsRecords(t,e)).map(this.recordToTeamMembersCount)}async createTeamWith(t,e,n){const r=new Vt({apiKey:n.apiKey}).base(n.appId);return(await r("Team").create([{fields:{name:e.value,choozr:[t.value]}}])).map(this.recordToTeam)[0]}async fetchChoozrTeamsRecords(t,e){const n=new Vt({apiKey:e.apiKey}).base(e.appId);return await n("Team").select({filterByFormula:`{id (from Choozr)} = '${t.value}'`}).firstPage()}}var oe=Ft((function(t,e){t.exports=function(){var t=function(){},e=Object.prototype.hasOwnProperty,n=Array.prototype.slice;function r(e,n){var r;return"function"==typeof Object.create?r=Object.create(e):(t.prototype=e,r=new t,t.prototype=null),n&&i(!0,r,n),r}function o(t,e,n,o){var s=this;return"string"!=typeof t&&(o=n,n=e,e=t,t=null),"function"!=typeof e&&(o=n,n=e,e=function(){return s.apply(this,arguments)}),i(!1,e,s,o),e.prototype=r(s.prototype,n),e.prototype.constructor=e,e.class_=t||s.class_,e.super_=s,e}function i(t,r,o){for(var i,s,a=0,c=(o=n.call(arguments,2)).length;a<c;a++)for(i in s=o[a])t&&!e.call(s,i)||(r[i]=s[i])}var s=o;function a(){}a.class_="Nevis",a.super_=Object,a.extend=s;var c=a,u=c.extend((function(t,e,n){this.qrious=t,this.element=e,this.element.qrious=t,this.enabled=Boolean(n)}),{draw:function(t){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(t){var e=this.qrious,n=e.padding||0,r=Math.floor((e.size-2*n)/t.width);return Math.max(1,r)},render:function(t){this.enabled&&(this.resize(),this.reset(),this.draw(t))},reset:function(){},resize:function(){}}),l=u,f=l.extend({draw:function(t){var e,n,r=this.qrious,o=this.getModuleSize(t),i=parseInt((this.element.width-t.width*o)/2),s=this.element.getContext("2d");for(s.fillStyle=r.foreground,s.globalAlpha=r.foregroundAlpha,e=0;e<t.width;e++)for(n=0;n<t.width;n++)t.buffer[n*t.width+e]&&s.fillRect(o*e+i,o*n+i,o,o)},reset:function(){var t=this.qrious,e=this.element.getContext("2d"),n=t.size;e.lineWidth=1,e.clearRect(0,0,n,n),e.fillStyle=t.background,e.globalAlpha=t.backgroundAlpha,e.fillRect(0,0,n,n)},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),h=f,d=c.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),p=c.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),_=c.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),m=c.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),b=c.extend((function(t){var e,n,r,o,i,s=t.value.length;for(this._badness=[],this._level=p.LEVELS[t.level],this._polynomial=[],this._value=t.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,r=4*(this._level-1)+16*(this._version-1),o=p.BLOCKS[r++],i=p.BLOCKS[r++],e=p.BLOCKS[r++],n=p.BLOCKS[r],!(s<=(r=e*(o+i)+i-3+(this._version<=9)))););this._dataBlock=e,this._eccBlock=n,this._neccBlock1=o,this._neccBlock2=i;var a=this.width=17+4*this._version;this.buffer=b._createArray(a*a),this._ecc=b._createArray(e+(e+n)*(o+i)+i),this._mask=b._createArray((a*(a+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+a*(a-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(s),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()}),{_addAlignment:function(t,e){var n,r=this.buffer,o=this.width;for(r[t+o*e]=1,n=-2;n<2;n++)r[t+n+o*(e-2)]=1,r[t-2+o*(e+n+1)]=1,r[t+2+o*(e+n)]=1,r[t+n+1+o*(e+2)]=1;for(n=0;n<2;n++)this._setMask(t-1,e+n),this._setMask(t+1,e-n),this._setMask(t-n,e-1),this._setMask(t+n,e+1)},_appendData:function(t,e,n,r){var o,i,s,a=this._polynomial,c=this._stringBuffer;for(i=0;i<r;i++)c[n+i]=0;for(i=0;i<e;i++){if(255!==(o=_.LOG[c[t+i]^c[n]]))for(s=1;s<r;s++)c[n+s-1]=c[n+s]^_.EXPONENT[b._modN(o+a[r-s])];else for(s=n;s<n+r;s++)c[s]=c[s+1];c[n+r-1]=255===o?0:_.EXPONENT[b._modN(o+a[0])]}},_appendEccToData:function(){var t,e=0,n=this._dataBlock,r=this._calculateMaxLength(),o=this._eccBlock;for(t=0;t<this._neccBlock1;t++)this._appendData(e,n,r,o),e+=n,r+=o;for(t=0;t<this._neccBlock2;t++)this._appendData(e,n+1,r,o),e+=n+1,r+=o},_applyMask:function(t){var e,n,r,o,i=this.buffer,s=this.width;switch(t){case 0:for(o=0;o<s;o++)for(r=0;r<s;r++)r+o&1||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 1:for(o=0;o<s;o++)for(r=0;r<s;r++)1&o||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 2:for(o=0;o<s;o++)for(e=0,r=0;r<s;r++,e++)3===e&&(e=0),e||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 3:for(n=0,o=0;o<s;o++,n++)for(3===n&&(n=0),e=n,r=0;r<s;r++,e++)3===e&&(e=0),e||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 4:for(o=0;o<s;o++)for(e=0,n=o>>1&1,r=0;r<s;r++,e++)3===e&&(e=0,n=!n),n||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 5:for(n=0,o=0;o<s;o++,n++)for(3===n&&(n=0),e=0,r=0;r<s;r++,e++)3===e&&(e=0),(r&o&1)+!(!e|!n)||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 6:for(n=0,o=0;o<s;o++,n++)for(3===n&&(n=0),e=0,r=0;r<s;r++,e++)3===e&&(e=0),(r&o&1)+(e&&e===n)&1||this._isMasked(r,o)||(i[r+o*s]^=1);break;case 7:for(n=0,o=0;o<s;o++,n++)for(3===n&&(n=0),e=0,r=0;r<s;r++,e++)3===e&&(e=0),(e&&e===n)+(r+o&1)&1||this._isMasked(r,o)||(i[r+o*s]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var t,e,n=this._eccBlock,r=this._polynomial;for(r[0]=1,t=0;t<n;t++){for(r[t+1]=1,e=t;e>0;e--)r[e]=r[e]?r[e-1]^_.EXPONENT[b._modN(_.LOG[r[e]]+t)]:r[e-1];r[0]=_.EXPONENT[b._modN(_.LOG[r[0]]+t)]}for(t=0;t<=n;t++)r[t]=_.LOG[r[t]]},_checkBadness:function(){var t,e,n,r,o,i=0,s=this._badness,a=this.buffer,c=this.width;for(o=0;o<c-1;o++)for(r=0;r<c-1;r++)(a[r+c*o]&&a[r+1+c*o]&&a[r+c*(o+1)]&&a[r+1+c*(o+1)]||!(a[r+c*o]||a[r+1+c*o]||a[r+c*(o+1)]||a[r+1+c*(o+1)]))&&(i+=b.N2);var u=0;for(o=0;o<c;o++){for(n=0,s[0]=0,t=0,r=0;r<c;r++)t===(e=a[r+c*o])?s[n]++:s[++n]=1,u+=(t=e)?1:-1;i+=this._getBadness(n)}u<0&&(u=-u);var l=0,f=u;for(f+=f<<2,f<<=1;f>c*c;)f-=c*c,l++;for(i+=l*b.N4,r=0;r<c;r++){for(n=0,s[0]=0,t=0,o=0;o<c;o++)t===(e=a[r+c*o])?s[n]++:s[++n]=1,t=e;i+=this._getBadness(n)}return i},_convertBitStream:function(t){var e,n,r=this._ecc,o=this._version;for(n=0;n<t;n++)r[n]=this._value.charCodeAt(n);var i=this._stringBuffer=r.slice(),s=this._calculateMaxLength();t>=s-2&&(t=s-2,o>9&&t--);var a=t;if(o>9){for(i[a+2]=0,i[a+3]=0;a--;)e=i[a],i[a+3]|=255&e<<4,i[a+2]=e>>4;i[2]|=255&t<<4,i[1]=t>>4,i[0]=64|t>>12}else{for(i[a+1]=0,i[a+2]=0;a--;)e=i[a],i[a+2]|=255&e<<4,i[a+1]=e>>4;i[1]|=255&t<<4,i[0]=64|t>>4}for(a=t+3-(o<10);a<s;)i[a++]=236,i[a++]=17},_getBadness:function(t){var e,n=0,r=this._badness;for(e=0;e<=t;e++)r[e]>=5&&(n+=b.N1+r[e]-5);for(e=3;e<t-1;e+=2)r[e-2]===r[e+2]&&r[e+2]===r[e-1]&&r[e-1]===r[e+1]&&3*r[e-1]===r[e]&&(0===r[e-3]||e+3>t||3*r[e-3]>=4*r[e]||3*r[e+3]>=4*r[e])&&(n+=b.N3);return n},_finish:function(){var t,e;this._stringBuffer=this.buffer.slice();var n=0,r=3e4;for(e=0;e<8&&(this._applyMask(e),(t=this._checkBadness())<r&&(r=t,n=e),7!==n);e++)this.buffer=this._stringBuffer.slice();n!==e&&this._applyMask(n),r=p.FINAL_FORMAT[n+(this._level-1<<3)];var o=this.buffer,i=this.width;for(e=0;e<8;e++,r>>=1)1&r&&(o[i-1-e+8*i]=1,e<6?o[8+i*e]=1:o[8+i*(e+1)]=1);for(e=0;e<7;e++,r>>=1)1&r&&(o[8+i*(i-7+e)]=1,e?o[6-e+8*i]=1:o[7+8*i]=1)},_interleaveBlocks:function(){var t,e,n=this._dataBlock,r=this._ecc,o=this._eccBlock,i=0,s=this._calculateMaxLength(),a=this._neccBlock1,c=this._neccBlock2,u=this._stringBuffer;for(t=0;t<n;t++){for(e=0;e<a;e++)r[i++]=u[t+e*n];for(e=0;e<c;e++)r[i++]=u[a*n+t+e*(n+1)]}for(e=0;e<c;e++)r[i++]=u[a*n+t+e*(n+1)];for(t=0;t<o;t++)for(e=0;e<a+c;e++)r[i++]=u[s+t+e*o];this._stringBuffer=r},_insertAlignments:function(){var t,e,n,r=this._version,o=this.width;if(r>1)for(t=d.BLOCK[r],n=o-7;;){for(e=o-7;e>t-3&&(this._addAlignment(e,n),!(e<t));)e-=t;if(n<=t+9)break;n-=t,this._addAlignment(6,n),this._addAlignment(n,6)}},_insertFinders:function(){var t,e,n,r,o=this.buffer,i=this.width;for(t=0;t<3;t++){for(e=0,r=0,1===t&&(e=i-7),2===t&&(r=i-7),o[r+3+i*(e+3)]=1,n=0;n<6;n++)o[r+n+i*e]=1,o[r+i*(e+n+1)]=1,o[r+6+i*(e+n)]=1,o[r+n+1+i*(e+6)]=1;for(n=1;n<5;n++)this._setMask(r+n,e+1),this._setMask(r+1,e+n+1),this._setMask(r+5,e+n),this._setMask(r+n+1,e+5);for(n=2;n<4;n++)o[r+n+i*(e+2)]=1,o[r+2+i*(e+n+1)]=1,o[r+4+i*(e+n)]=1,o[r+n+1+i*(e+4)]=1}},_insertTimingGap:function(){var t,e,n=this.width;for(e=0;e<7;e++)this._setMask(7,e),this._setMask(n-8,e),this._setMask(7,e+n-7);for(t=0;t<8;t++)this._setMask(t,7),this._setMask(t+n-8,7),this._setMask(t,n-8)},_insertTimingRowAndColumn:function(){var t,e=this.buffer,n=this.width;for(t=0;t<n-14;t++)1&t?(this._setMask(8+t,6),this._setMask(6,8+t)):(e[8+t+6*n]=1,e[6+n*(8+t)]=1)},_insertVersion:function(){var t,e,n,r,o=this.buffer,i=this._version,s=this.width;if(i>6)for(t=m.BLOCK[i-7],e=17,n=0;n<6;n++)for(r=0;r<3;r++,e--)1&(e>11?i>>e-12:t>>e)?(o[5-n+s*(2-r+s-11)]=1,o[2-r+s-11+s*(5-n)]=1):(this._setMask(5-n,2-r+s-11),this._setMask(2-r+s-11,5-n))},_isMasked:function(t,e){var n=b._getMaskBit(t,e);return 1===this._mask[n]},_pack:function(){var t,e,n,r=1,o=1,i=this.width,s=i-1,a=i-1,c=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(e=0;e<c;e++)for(t=this._stringBuffer[e],n=0;n<8;n++,t<<=1){128&t&&(this.buffer[s+i*a]=1);do{o?s--:(s++,r?0!==a?a--:(r=!r,6==(s-=2)&&(s--,a=9)):a!==i-1?a++:(r=!r,6==(s-=2)&&(s--,a-=8))),o=!o}while(this._isMasked(s,a))}},_reverseMask:function(){var t,e,n=this.width;for(t=0;t<9;t++)this._setMask(t,8);for(t=0;t<8;t++)this._setMask(t+n-8,8),this._setMask(8,t);for(e=0;e<7;e++)this._setMask(8,e+n-7)},_setMask:function(t,e){var n=b._getMaskBit(t,e);this._mask[n]=1},_syncMask:function(){var t,e,n=this.width;for(e=0;e<n;e++)for(t=0;t<=e;t++)this.buffer[t+n*e]&&this._setMask(t,e)}},{_createArray:function(t){var e,n=[];for(e=0;e<t;e++)n[e]=0;return n},_getMaskBit:function(t,e){var n;return t>e&&(n=t,t=e,e=n),n=e,n+=e*e,n>>=1,n+=t},_modN:function(t){for(;t>=255;)t=((t-=255)>>8)+(255&t);return t},N1:3,N2:3,N3:40,N4:10}),g=b,v=l.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),y=v,w=c.extend((function(t,e,n,r){this.name=t,this.modifiable=Boolean(e),this.defaultValue=n,this._valueTransformer=r}),{transform:function(t){var e=this._valueTransformer;return"function"==typeof e?e(t,this):t}}),x=c.extend(null,{abs:function(t){return null!=t?Math.abs(t):null},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},noop:function(){},toUpperCase:function(t){return null!=t?t.toUpperCase():null}}),O=c.extend((function(t){this.options={},t.forEach((function(t){this.options[t.name]=t}),this)}),{exists:function(t){return null!=this.options[t]},get:function(t,e){return O._get(this.options[t],e)},getAll:function(t){var e,n=this.options,r={};for(e in n)x.hasOwn(n,e)&&(r[e]=O._get(n[e],t));return r},init:function(t,e,n){var r,o;for(r in"function"!=typeof n&&(n=x.noop),this.options)x.hasOwn(this.options,r)&&(o=this.options[r],O._set(o,o.defaultValue,e),O._createAccessor(o,e,n));this._setAll(t,e,!0)},set:function(t,e,n){return this._set(t,e,n)},setAll:function(t,e){return this._setAll(t,e)},_set:function(t,e,n,r){var o=this.options[t];if(!o)throw new Error("Invalid option: "+t);if(!o.modifiable&&!r)throw new Error("Option cannot be modified: "+t);return O._set(o,e,n)},_setAll:function(t,e,n){if(!t)return!1;var r,o=!1;for(r in t)x.hasOwn(t,r)&&this._set(r,t[r],e,n)&&(o=!0);return o}},{_createAccessor:function(t,e,n){var r={get:function(){return O._get(t,e)}};t.modifiable&&(r.set=function(r){O._set(t,r,e)&&n(r,t)}),Object.defineProperty(e,t.name,r)},_get:function(t,e){return e["_"+t.name]},_set:function(t,e,n){var r="_"+t.name,o=n[r],i=t.transform(null!=e?e:t.defaultValue);return n[r]=i,i!==o}}),j=O,T=c.extend((function(){this._services={}}),{getService:function(t){var e=this._services[t];if(!e)throw new Error("Service is not being managed with name: "+t);return e},setService:function(t,e){if(this._services[t])throw new Error("Service is already managed with name: "+t);e&&(this._services[t]=e)}}),C=new j([new w("background",!0,"white"),new w("backgroundAlpha",!0,1,x.abs),new w("element"),new w("foreground",!0,"black"),new w("foregroundAlpha",!0,1,x.abs),new w("level",!0,"L",x.toUpperCase),new w("mime",!0,"image/png"),new w("padding",!0,null,x.abs),new w("size",!0,100,x.abs),new w("value",!0,"")]),k=new T,E=c.extend((function(t){C.init(t,this,this.update.bind(this));var e=C.get("element",this),n=k.getService("element"),r=e&&n.isCanvas(e)?e:n.createCanvas(),o=e&&n.isImage(e)?e:n.createImage();this._canvasRenderer=new h(this,r,!0),this._imageRenderer=new y(this,o,o===e),this.update()}),{get:function(){return C.getAll(this)},set:function(t){C.setAll(t,this)&&this.update()},toDataURL:function(t){return this.canvas.toDataURL(t||this.mime)},update:function(){var t=new g({level:this.level,value:this.value});this._canvasRenderer.render(t),this._imageRenderer.render(t)}},{use:function(t){k.setService(t.getName(),t)}});Object.defineProperties(E.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var A=E,$=c.extend({getName:function(){}}).extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(t){},isImage:function(t){}}).extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(t){return t instanceof HTMLCanvasElement},isImage:function(t){return t instanceof HTMLImageElement}}),L=$;return A.use(new L),A}()}));function ie(e){let n,r;return{c(){n=_("img"),u(n.src,r=e[2])||y(n,"src",r),y(n,"alt",e[0]),y(n,"class",e[1])},m(t,e){h(t,n,e)},p(t,[e]){4&e&&!u(n.src,r=t[2])&&y(n,"src",r),1&e&&y(n,"alt",t[0]),2&e&&y(n,"class",t[1])},i:t,o:t,d(t){t&&d(n)}}}function se(t,e,n){const r=new oe;let{errorCorrection:o="L"}=e,{background:i="#fff"}=e,{color:s="#000"}=e,{size:a="200"}=e,{value:c=""}=e,{padding:u=0}=e,{className:l="qrcode"}=e,f="";function h(){r.set({background:i,foreground:s,level:o,padding:u,size:a,value:c}),n(2,f=r.toDataURL("image/jpeg"))}return T((()=>{h()})),t.$$set=t=>{"errorCorrection"in t&&n(3,o=t.errorCorrection),"background"in t&&n(4,i=t.background),"color"in t&&n(5,s=t.color),"size"in t&&n(6,a=t.size),"value"in t&&n(0,c=t.value),"padding"in t&&n(7,u=t.padding),"className"in t&&n(1,l=t.className)},t.$$.update=()=>{1&t.$$.dirty&&c&&h()},[c,l,f,o,i,s,a,u]}class ae extends et{constructor(t){super(),tt(this,t,se,ie,s,{errorCorrection:3,background:4,color:5,size:6,value:0,padding:7,className:1})}}function ce(t,e,n){const r=t.slice();return r[16]=e[n].id,r[17]=e[n].name,r}function ue(e){let n,r,o,i,s=e[4],a=[];for(let t=0;t<s.length;t+=1)a[t]=fe(ce(e,s,t));return{c(){n=_("table"),r=_("thead"),r.innerHTML="<tr><th>Teams</th></tr>",o=b(),i=_("tbody");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class","table is-striped is-hoverable")},m(t,e){h(t,n,e),f(n,r),f(n,o),f(n,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null)},p(t,e){if(80&e){let n;for(s=t[4],n=0;n<s.length;n+=1){const r=ce(t,s,n);a[n]?a[n].p(r,e):(a[n]=fe(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:t,o:t,d(t){t&&d(n),p(a,t)}}}function le(e){let n,r,o;return r=new yt({}),{c(){n=_("div"),X(r.$$.fragment),y(n,"class","is-flex is-justify-content-center")},m(t,e){h(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(H(r.$$.fragment,t),o=!0)},o(t){W(r.$$.fragment,t),o=!1},d(t){t&&d(n),Z(r)}}}function fe(t){let e,n,r,o,i,s,a=t[17].value+"";function c(){return t[8](t[16])}return{c(){e=_("tr"),n=_("td"),r=m(a),o=b(),y(e,"class","is-clickable")},m(t,a){h(t,e,a),f(e,n),f(n,r),f(e,o),i||(s=v(e,"click",c),i=!0)},p(e,n){t=e,16&n&&a!==(a=t[17].value+"")&&w(r,a)},d(t){t&&d(e),i=!1,s()}}}function he(e){let n,r,i,s,a,c,u,l,p;return{c(){n=_("h2"),n.textContent="Nouvelle Équipe",r=b(),i=_("input"),s=b(),a=_("button"),c=m("Créer"),y(i,"id","app-id"),y(i,"class","mt-1"),y(a,"class","mt-4"),a.disabled=u=!e[0]},m(t,o){h(t,n,o),h(t,r,o),h(t,i,o),x(i,e[0]),h(t,s,o),h(t,a,o),f(a,c),l||(p=[v(i,"input",e[9]),v(a,"click",e[5])],l=!0)},p(t,e){1&e&&i.value!==t[0]&&x(i,t[0]),1&e&&u!==(u=!t[0])&&(a.disabled=u)},i:t,o:t,d(t){t&&d(n),t&&d(r),t&&d(i),t&&d(s),t&&d(a),l=!1,o(p)}}}function de(e){let n,r,o;return r=new yt({}),{c(){n=_("div"),X(r.$$.fragment),y(n,"class","is-flex is-justify-content-center")},m(t,e){h(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(H(r.$$.fragment,t),o=!0)},o(t){W(r.$$.fragment,t),o=!1},d(t){t&&d(n),Z(r)}}}function pe(t){let e,n,r,o,i,s,a,c,u,l,p,m,g,v,w,x,O;s=new ae({props:{value:t[1]}});const j=[le,ue],T=[];function C(t,e){return t[2]?0:1}l=C(t),p=T[l]=j[l](t);const k=[de,he],E=[];function A(t,e){return t[3]?0:1}return w=A(t),x=E[w]=k[w](t),{c(){e=_("section"),n=_("div"),r=_("div"),o=_("h1"),o.textContent="Choozr",i=b(),X(s.$$.fragment),a=b(),c=_("hr"),u=b(),p.c(),m=b(),g=_("hr"),v=b(),x.c(),y(o,"class","is-size-1 has-text-centered mb-5"),y(r,"class","is-flex is-flex-direction-column"),y(n,"class","hero-body is-flex is-justify-content-center"),y(e,"class","hero is-primary is-fullheight")},m(t,d){h(t,e,d),f(e,n),f(n,r),f(r,o),f(r,i),Q(s,r,null),f(r,a),f(r,c),f(r,u),T[l].m(r,null),f(r,m),f(r,g),f(r,v),E[w].m(r,null),O=!0},p(t,[e]){const n={};2&e&&(n.value=t[1]),s.$set(n);let o=l;l=C(t),l===o?T[l].p(t,e):(G(),W(T[o],1,1,(()=>{T[o]=null})),V(),p=T[l],p?p.p(t,e):(p=T[l]=j[l](t),p.c()),H(p,1),p.m(r,m));let i=w;w=A(t),w===i?E[w].p(t,e):(G(),W(E[i],1,1,(()=>{E[i]=null})),V(),x=E[w],x?x.p(t,e):(x=E[w]=k[w](t),x.c()),H(x,1),x.m(r,null))},i(t){O||(H(s.$$.fragment,t),H(p),H(x),O=!0)},o(t){W(s.$$.fragment,t),W(p),W(x),O=!1},d(t){t&&d(e),Z(s),T[l].d(),E[w].d()}}}function _e(t,e,n){let{params:r}=e;const o=new Wt(r.choozrId),i=E("generateJoinChoozrURLUseCase"),s=E("getChoozrTeamsUseCase"),a=E("createTeamUseCase"),c=C();let u="",l="",f=!0,h=!1,d=[];function p(){s.getChoozrTeamsWith(o).then((t=>{n(4,d=t)})).catch((t=>console.log(t))).finally((()=>n(2,f=!1)))}function _(t){c("routeEvent",new jt(t))}T((()=>{p(),i.generateJoinChoozrURLWith(o).then((t=>{n(1,l=t.value)})).catch((t=>console.log(t)))}));return t.$$set=t=>{"params"in t&&n(7,r=t.params)},[u,l,f,h,d,function(){n(3,h=!0),a.createTeamWith(o,new Zt(u)).then((()=>p())).catch((t=>console.log(t))).finally((()=>n(3,h=!1)))},_,r,t=>_(t),function(){u=this.value,n(0,u)}]}class me extends et{constructor(t){super(),tt(this,t,_e,pe,s,{params:7})}}class be{constructor(t,e,n){this.joinTeamPort=t,this.getLoginParametersPort=e,this.getTeamsMembersCountPort=n}async createMemberWith(t,e){const n=this.getLoginParametersPort.getLoginParameters(),r=await this.getTeamsMembersCountPort.getTeamsMembersCountFrom(t,n);return r.sort(((t,e)=>t.membersCount-e.membersCount)),await this.joinTeamPort.createMemberWith(r[0].teamId,e,n)}}class ge{constructor(t,e,n){this.id=t,this.name=e,this.teamId=n}}class ve{constructor(t){this.value=t}}class ye{constructor(){this.recordToMember=t=>new ge(new ve(t.id),new ne(t.get("name")),new Qt(t.get("id (from Team)")))}async createMemberWith(t,e,n){const r=new Vt({apiKey:n.apiKey}).base(n.appId);return(await r("Member").create([{fields:{name:e.value,team:[t.value]}}])).map(this.recordToMember)[0]}}function we(e){let n,r,i,s,a,c,u,l,p;return{c(){n=_("h2"),n.textContent="Votre nom",r=b(),i=_("input"),s=b(),a=_("button"),c=m("Rejoindre"),y(i,"id","app-id"),y(i,"class","mt-1"),y(a,"class","mt-4"),a.disabled=u=!e[0]},m(t,o){h(t,n,o),h(t,r,o),h(t,i,o),x(i,e[0]),h(t,s,o),h(t,a,o),f(a,c),l||(p=[v(i,"input",e[4]),v(a,"click",e[2])],l=!0)},p(t,e){1&e&&i.value!==t[0]&&x(i,t[0]),1&e&&u!==(u=!t[0])&&(a.disabled=u)},i:t,o:t,d(t){t&&d(n),t&&d(r),t&&d(i),t&&d(s),t&&d(a),l=!1,o(p)}}}function xe(e){let n,r,o;return r=new yt({}),{c(){n=_("div"),X(r.$$.fragment),y(n,"class","is-flex is-justify-content-center")},m(t,e){h(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(H(r.$$.fragment,t),o=!0)},o(t){W(r.$$.fragment,t),o=!1},d(t){t&&d(n),Z(r)}}}function Oe(t){let e,n,r,o,i,s,a,c,u,l;const p=[xe,we],m=[];function g(t,e){return t[1]?0:1}return c=g(t),u=m[c]=p[c](t),{c(){e=_("section"),n=_("div"),r=_("div"),o=_("h1"),o.textContent="Rejoindre une équipe",i=b(),s=_("hr"),a=b(),u.c(),y(o,"class","is-size-1 has-text-centered mb-5"),y(r,"class","is-flex is-flex-direction-column"),y(n,"class","hero-body is-flex is-justify-content-center"),y(e,"class","hero is-primary is-fullheight")},m(t,u){h(t,e,u),f(e,n),f(n,r),f(r,o),f(r,i),f(r,s),f(r,a),m[c].m(r,null),l=!0},p(t,[e]){let n=c;c=g(t),c===n?m[c].p(t,e):(G(),W(m[n],1,1,(()=>{m[n]=null})),V(),u=m[c],u?u.p(t,e):(u=m[c]=p[c](t),u.c()),H(u,1),u.m(r,null))},i(t){l||(H(u),l=!0)},o(t){W(u),l=!1},d(t){t&&d(e),m[c].d()}}}function je(t,e,n){let r;var o,i;o=ft,i=t=>n(5,r=t),t.$$.on_destroy.push(l(o,i));let{params:s}=e;const a=C(),c=new Wt(s.choozrId),u=E("loginUseCase"),f=E("joinChoozrUseCase");let h="",d=!1;return T((()=>{const t=new URLSearchParams(r);u.login(new gt(t.get("appId"),t.get("apiKey")))})),t.$$set=t=>{"params"in t&&n(3,s=t.params)},[h,d,function(){n(1,d=!0),f.createMemberWith(c,new ne(h)).then((t=>a("routeEvent",new Tt(t.teamId)))).catch((t=>console.log(t))).finally((()=>{n(1,d=!1)}))},s,function(){h=this.value,n(0,h)}]}class Te extends et{constructor(t){super(),tt(this,t,je,Oe,s,{params:3})}}function Ce(t,e,n){const r=t.slice();return r[5]=e[n],r}function ke(e){let n,r,o,i,s,a,c,u,l=e[0].name.value+"",g=e[0].membersNames,v=[];for(let t=0;t<g.length;t+=1)v[t]=Ae(Ce(e,g,t));return{c(){n=_("h1"),r=m("Équipe "),o=m(l),i=b(),s=_("table"),a=_("thead"),a.innerHTML="<tr><th>Membres de l&#39;équipe</th></tr>",c=b(),u=_("tbody");for(let t=0;t<v.length;t+=1)v[t].c();y(n,"class","is-size-1 has-text-centered mb-5"),y(s,"class","table is-striped is-hoverable")},m(t,e){h(t,n,e),f(n,r),f(n,o),h(t,i,e),h(t,s,e),f(s,a),f(s,c),f(s,u);for(let t=0;t<v.length;t+=1)v[t].m(u,null)},p(t,e){if(1&e&&l!==(l=t[0].name.value+"")&&w(o,l),1&e){let n;for(g=t[0].membersNames,n=0;n<g.length;n+=1){const r=Ce(t,g,n);v[n]?v[n].p(r,e):(v[n]=Ae(r),v[n].c(),v[n].m(u,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=g.length}},i:t,o:t,d(t){t&&d(n),t&&d(i),t&&d(s),p(v,t)}}}function Ee(e){let n,r,o;return r=new yt({}),{c(){n=_("div"),X(r.$$.fragment),y(n,"class","is-flex is-justify-content-center")},m(t,e){h(t,n,e),Q(r,n,null),o=!0},p:t,i(t){o||(H(r.$$.fragment,t),o=!0)},o(t){W(r.$$.fragment,t),o=!1},d(t){t&&d(n),Z(r)}}}function Ae(t){let e,n,r,o,i=t[5].value+"";return{c(){e=_("tr"),n=_("td"),r=m(i),o=b()},m(t,i){h(t,e,i),f(e,n),f(n,r),f(e,o)},p(t,e){1&e&&i!==(i=t[5].value+"")&&w(r,i)},d(t){t&&d(e)}}}function $e(t){let e,n,r,o,i,s;const a=[Ee,ke],c=[];function u(t,e){return t[1]?0:1}return o=u(t),i=c[o]=a[o](t),{c(){e=_("section"),n=_("div"),r=_("div"),i.c(),y(r,"class","is-flex is-flex-direction-column"),y(n,"class","hero-body is-flex is-justify-content-center"),y(e,"class","hero is-primary is-fullheight")},m(t,i){h(t,e,i),f(e,n),f(n,r),c[o].m(r,null),s=!0},p(t,[e]){let n=o;o=u(t),o===n?c[o].p(t,e):(G(),W(c[n],1,1,(()=>{c[n]=null})),V(),i=c[o],i?i.p(t,e):(i=c[o]=a[o](t),i.c()),H(i,1),i.m(r,null))},i(t){s||(H(i),s=!0)},o(t){W(i),s=!1},d(t){t&&d(e),c[o].d()}}}function Le(t,e,n){let{params:r}=e;const o=E("getTeamDetailsUseCase");let i,s=!0;return T((()=>{o.getTeamDetailsBy(new Qt(r.teamId)).then((t=>{n(0,i=t)})).catch((t=>console.log(t))).finally((()=>{n(1,s=!1)}))})),t.$$set=t=>{"params"in t&&n(2,r=t.params)},[i,s,r]}class Re extends et{constructor(t){super(),tt(this,t,Le,$e,s,{params:2})}}function Pe(e){let n,r;return n=new _t({props:{routes:e[0]}}),n.$on("routeEvent",e[1]),{c(){X(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(H(n.$$.fragment,t),r=!0)},o(t){W(n.$$.fragment,t),r=!1},d(t){Z(n,t)}}}function Ie(t){const e={"/":$t,"/home":Nt,"/choozrs/:choozrId":me,"/choozrs/:choozrId/join":Te,"/teams/:teamId":Re},n=new mt,r=new Yt,o=new re,i=new ye,s=new Ut(r,n,r,o),a=new Jt(o,n,o);return k("loginUseCase",new bt(n)),k("createChoozrUseCase",s),k("getChoozrsUseCase",s),k("generateJoinChoozrURLUseCase",s),k("getChoozrTeamsUseCase",s),k("getTeamDetailsUseCase",a),k("createTeamUseCase",a),k("joinChoozrUseCase",new be(i,n,o)),[e,async function(t){const e=t.detail;e==wt?await dt("/home"):e instanceof xt||e instanceof Ot?await dt(`/choozrs/${e.choozrId.value}`):(e instanceof Tt||e instanceof jt)&&await dt(`/teams/${e.teamId.value}`)}]}return new class extends et{constructor(t){super(),tt(this,t,Ie,Pe,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle4.js.map
